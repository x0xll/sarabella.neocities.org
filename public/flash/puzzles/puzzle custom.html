
<!DOCTYPE html>
<html>
    <head>
        <link rel="icon" href="/images/favicons/favicon.ico">
        <title data-il8n="game_puzzles">Puzzles</title>
        <script src="/ruffle/ruffle.js"></script>
        <link rel="stylesheet" href="/styles.css">
    </head>

    <script src="/language.js"></script>

    <body class="game" onload="loadLanguagePref(); 
        loadNewLocalizationFile('./lang/website/puzzle_' + currentLang + '.json', './lang/website/puzzle_en.json', 'puzzles');">
        <script src="/header.js"></script>
        
        <script>
          window.RufflePlayer = {
            config: {
              autoplay: "on",
              unmuteOverlay: "hidden",
            }
          };
        </script>

        <div class="swf" dir="ltr" rbidi="on">
            <form name="aspnetForm" method="post" action="puzzle.html" id="aspnetForm">
                <input type="hidden" name="__VIEWSTATE" id="__VIEWSTATE" value="/wEPDwUJOTQxODAxNzkzD2QWAmYPZBYCAgEPZBYCAgUPZBYQZg8WAh4EVGV4dAWiATxhIGNsYXNzPSJnbG9iYWwtbG93ZXJuYXYtbGluayIgdGFyZ2V0PSJfYmxhbmsiIG9uQ2xpY2s9ImphdmFzY3JpcHQ6dXJjaGluVHJhY2tlciAoJy9leHRlcm5hbC9wcmVzc3Jvb20nKTsiIGhyZWY9Imh0dHA6Ly9wcmVzc3Jvb20uYmVsbGFzYXJhLmNvbSI+UHJlc3Nyb29tPC9hPiB8IGQCAQ8WAh8ABRBUZXJtcyBvZiBTZXJ2aWNlZAICDxYCHwAFB1ByaXZhY3lkAgMPFgIfAAUHUHJvZmlsZWQCBA8WAh8ABQhQbGF5IE5vd2QCBQ8WAh8ABSMmY29weTsgMjAwOSBIaWRkZW4gQ2l0eSBHYW1lcywgSW5jLmQCBg8WAh8ABRRBbGwgUmlnaHRzIFJlc2VydmVkLmQCBw9kFgJmDxYCHwAFEURhaWx5IFRpbWUgTGltaXQ6ZGToBTTM6kkM/NYkGrWzjPnYQBbaCA==" />
    
                
                <input type="file" id="file-selector" accept=".jpg, .jpeg, .png"><br>
                <em data-il8n="puzzle_custom_warning">Note that images larger than 700 x 450 may be too large to see correctly.</em>
                
                <ul id="output"></ul>

                <script src="./swfobject.js" type="text/javascript"></script>
                <div id="header"></div>
                <div id="body">

                    <script type="text/javascript">

                        
                        const fileSelector = document.getElementById('file-selector');
                        fileSelector.addEventListener('change', (event) => {
                            const file = event.target.files[0];
                            
                            if ((file)) {
                                img = new Image();
                                var objectUrl = _URL.createObjectURL(file);
                                img.onload = function () {
                                    if (this.width > 700 || this.height > 450) {
                                        alert(getLocalizedText("puzzle_custom_warning2"));
                                    }
                                    var reader = new FileReader();
                                    reader.readAsDataURL(file)
                                    console.log(URL.createObjectURL( file))
                                    var fo = new FlashObject("./puzzleEngine.swf", "body", "887", "521", "8", "493D75");
                                        fo.addParam("wmode", "transparent");
                                        fo.addVariable("nbrRows", "6");
                                        fo.addVariable("nbrColumns", "8");
                                        fo.addVariable("", "");
                                        fo.addVariable("stgImage", URL.createObjectURL( file));
                                        fo.write("body");
                                };
                                img.src = objectUrl;
                            }


                        });

                        var _URL = window.URL || window.webkitURL;
                        $("#file").change(function (e) {
                            var file, img;
                            if ((file = this.files[0])) {
                                img = new Image();
                                var objectUrl = _URL.createObjectURL(file);
                                img.onload = function () {
                                    alert(this.width + " " + this.height);
                                    _URL.revokeObjectURL(objectUrl);
                                };
                                img.src = objectUrl;
                            }
                        });
    
                    </script>
                </div>
            </form>
        </div>

        
        <!-- <div class="swf" dir="ltr" rbidi="on">
            <embed height="600px" pluginspage=" http://www.macromedia.com/go/getflashplayer" src="./flash/coloring.swf?pages=bsColoring_fiona" type="application/x-shockwave-flash" width="1000">
        </div> -->

        <div class="footer">
            <a href="/index.html" class="global-lowernav-link" data-il8n="footer_home_linktxt">Home</a> |
            <a href="https://web.archive.org/web/20191201043040/http://www.bellasara.com/puzzles.html" data-il8n="footer_webarchive_linktxt" class="global-lowernav-link">Web Archive Page</a>
        </div>

        <script src="/flags.js"></script>
<script src="/userManager.js"></script>
  </body>
</html>
